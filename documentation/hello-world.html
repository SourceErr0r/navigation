<html>
<head>
    <title>Hello World</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../css/prism.css">
    <style>
body {
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;
  margin: 0 auto;
  width: 95%;
  padding: 15px 0;
}
div#banner {
  height: 35px;
  background-color: #fff;
  margin-bottom: 15px;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 100;      
  display: flex;
  align-items: center;
  flex-direction: row;
}
div#banner a {
  color: #ed335f;
  text-decoration: none;
  padding: 0 2%;
  font-weight: bold;
}
div#content {
  padding-top: 35px;
}
h1 {
  margin: 0;
}
div#menu {
  background-color: #f9858b;
  position: fixed;
  top: 0;
  bottom: 0;
  margin-top: 45px;
  width: 32%;
  border-radius: 15px;
  border: 4px solid #ed335f;
  box-sizing: border-box;

}
#menu #items {
  background-color: white;
  height: 90%;
  margin: 5% 5%;
  border: 2px solid #ed335f;
  padding: 15px 5%;
  display: flex;
  overflow: auto;
  box-sizing: border-box;
  flex-direction: column;
}
div#menu h2 {
  font-weight: normal;
  color: #6d6d6d;
  font-size: 1.3em;
  margin: 0;
}
div#article {
  margin-left: 34.7368%;
  padding-left: 2%;
  box-sizing: border-box;
}
p {
  line-height: 1.4em;
}
code {
  font-family: source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace;
  font-size: 0.8em;
  color: #ed335f;
}
#content pre{
   border:2px solid #ed335f;
   border-radius: 0;
   padding:1.5%;
}
pre[class*="language-"] {
  font-size: 1em;
}
div#article h2 {
  font-weight: normal;
}
@media (min-width:1250px) {
  div#menu {
    width: 400px;
  }
  div#article {
    margin-left: 400px;
  }
}
    </style>
</head>
<body>
    <div id="banner">
      <a href="..">Navigation</a>
      <a href="hello-world.html" class="selected">Docs</a>
      <a href="../download/index.html">Download</a>
      <a id="github" href="https://github.com/grahammendick/navigation">GitHub</a>
    </div>
    <div id="spacer"></div>
    <div id="content">
        <div id="menu">
          <div id="items">
            <a href="hello-world.html" class="selected">Hello World</a>
            <div class="separator"></div>
            <h2>THE ABC</h2>
            <a href="state-navigation.html">A. State Navigation</a>
            <a href="navigation-data.html">B. Navigation Data</a>
            <a href="routes.html">C. Routes</a>
            <a href="examples.html">Examples</a>
            <div class="separator"></div>
            <h2>FURTHER GUIDES</h2>
            <a href="thinking-in-navigation.html">Thinking in Navigation</a>
            <a href="current-data.html">Current Data</a>
            <a href="html5-history.html">HTML5 History</a>
            <a href="navigation-lifecycle.html">Navigation Lifecycle</a>
            <a href="reusable-components.html">Reusable Components</a>
            <div class="separator"></div>
            <h2>MOBILE</h2>
            <a href="mobile/hello-world.html">Hello World</a>
            <a href="mobile/animated-navigation.html">Animated Navigation</a>
            <a href="mobile/non-animated-navigation.html">Non-Animated Navigation</a>
            <a href="mobile/clean-urls.html">Clean Urls</a>
            <a href="mobile/scene-navigation-lifecycle.html">Scene Navigation Lifecycle</a>
            <a href="mobile/shared-element-navigation.html">Shared Element Navigation</a>
            <a href="mobile/examples.html">Examples</a>
            <div class="separator"></div>
          </div>
        </div>
        <div id="article">
            <h1>Hello World</h1>
            <p>
                We're going to build an example that'll get you familiar with the Navigation router's data-first approach. The example will have two views. One view will display a Hyperlink that says 'Hello'. Clicking this Hyperlink will navigate you to the second view displaying the text 'World' inside a div. We'll pass across a number that we'll use to set the div's font-size.
            </p>
            <p>
                To get things started, we'll create a new <code>StateNavigator</code> by passing in an array of <code>States</code> that represent the views in our example. There'll be one <code>State</code> for the 'hello' view and another for the 'world' view. With other routers, you'd have to configure your routes at this stage. With the Navigation router, you can leave your routes until the end. All routes apart from the empty route, that is, which we'll assign to the 'hello' <code>State</code> so that it's active when the page first loads.
            </p>
            <pre><code class="language-jsx">var stateNavigator = new Navigation.StateNavigator([
  {key: 'hello', route: ''},
  {key: 'world'}
]);</code></pre>
            <p>
                We define the view for the 'hello' <code>State</code> in a function attached to its <code>renderView</code> property. Inside the function we'll render a Hyperlink that navigates to the 'world' <code>State</code>. We'll let the <code>NavigationLink</code> component handle the rendering. It has a <code>stateKey prop</code> that holds the key of the destination State. 
            </p>
            <pre><code class="language-jsx">stateNavigator.states.hello.renderView = function() {
  return (
    &lt;NavigationReact.NavigationLink stateKey="world">
      Hello
    &lt;/NavigationReact.NavigationLink>
  );
};</code></pre>
            <p>
                We'll also add a <code>renderView</code> function to the 'world' <code>State</code> so we can render the div after the Hyperlink is clicked.
            </p>
            <pre><code class="language-jsx">stateNavigator.states.world.renderView = function() {
  return &lt;div>World&lt;/div>;
}</code></pre>
            <p>
                To get the example going we'll call <code>start</code> on the <code>stateNavigator</code>. This navigates to the <code>State</code> whose route matches the browser Url. The 'hello' <code>State</code> will be active when the page first loads because we assigned it the empty route.
            </p>
            <pre><code class="language-jsx">stateNavigator.start();</code></pre>
            <p>
                We'll set up the Navigation context so that we can render the view for the active <code>State</code>. We'll render a context <code>Consumer</code> component and assign it a child render function. Whenever the active State changes, the <code>Consumer</code> calls our function and we return the matching view.
            </p>
            <pre><code class="language-jsx">ReactDOM.render(
  &lt;NavigationReact.NavigationHandler stateNavigator={stateNavigator}>
    &lt;NavigationReact.NavigationContext.Consumer>
      {({ state, data }) => state.renderView(data)}
    &lt;/NavigationReact.NavigationContext.Consumer>
  &lt;/NavigationReact.NavigationHandler>,
  document.getElementById('app')
);</code></pre>
            <h2>Data First</h2>
            <p>
                We'll change the Hyperlink to pass across a number that will become the font-size of the div. With other routers, we'd have to decide now whether to pass it as a route or query string parameter. With the Navigation router, we can leave this decision to the end. The <code>NavigationLink</code> component has a <code>navigationData prop</code> that holds the data to pass to the destination <code>State</code>. We'll pass the number 20 as the <code>size</code> to the 'world' <code>State</code>.
            </p>
            <pre><code class="language-jsx">stateNavigator.states.hello.renderView = function() {
  return (
    &lt;NavigationReact.NavigationLink 
      stateKey="world"
      navigationData={{size: 20}}>
      Hello
    &lt;/NavigationReact.NavigationLink>
  );
};</code></pre>
            <p>
                We'll change the 'world' <code>State's renderView</code> function to accept the data as a parameter and use the number passed in to set the div's font-size.
            </p>
            <pre><code class="language-jsx">stateNavigator.states.world.renderView = function(data) {
  return (
    &lt;div style={{fontSize: data.size}}>World&lt;/div>,
  );
};</code></pre>
            <h2>Routes Last</h2>
            <p>
                Our example's up and running. But, because we haven't set a route for the 'world' <code>State</code>, the Navigation router auto-generates the Url. It turns <code>size</code> into a query string parameter and adds trailing digits to track the type of the <code>size</code> parameter. We'll tidy up the Url by making <code>size</code> a route parameter and defaulting its type to 'number'. The rest of the code remains unchanged because the data we're passing around hasn't changed.
            </p>
            <pre><code class="language-jsx">var stateNavigator = new Navigation.StateNavigator([
  {key: 'hello', route: ''},
  {key: 'world', route: '{size}', defaultTypes: {size: 'number'}}
]);</code></pre>
            <h2>Ta-dah!</h2>
            <p>
                With other routers, your Urls are set upfront and changes can ripple throughout your codebase. With the Navigation router, Urls are just a string representation of your typed data. You can safely update routes or switch between query and route parameters without impacting your code.
            </p>
            <iframe width="100%" height="600" src="//jsfiddle.net/navigation/fpkmfkm7/14/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
        </div>
    </div>
    <script type="text/javascript" src="../js/prism.js"></script>
</body>
</html>